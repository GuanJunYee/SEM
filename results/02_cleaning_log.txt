Loaded dataset: retail_store_sales.csv | Shape=(12575, 11)
Missing values before cleaning: 7229 total

=== PHASE 1: IDENTIFYING UNRECOVERABLE ROWS ===
Unrecoverable rows (missing both Quantity & Total): 604
[OK] Saved 604 dropped rows to: dropped_rows_report.csv
Working with 11971 recoverable rows

=== PHASE 2: SMART RECOVERY ===
1. Standardizing Discount Applied...
[OK] Standardized to boolean; filled 3988 missing with False
2. Recovering missing prices using Total / Quantity...
[OK] Recovered 609 prices
3. Recovering missing quantities using Total / Price...
4. Recovering missing totals using Price x Quantity...
5. Inferring missing items from Category + Price...
[OK] Inferred 609 items from Category + Price

=== PHASE 3: FINAL CALCULATIONS ===
[OK] Standardized Transaction Date to datetime
Ensuring calculation consistency...
[OK] All critical columns now complete!

=== PHASE 4: SAVE AND REPORT ===
[OK] Saved cleaned dataset: retail_store_sales_clean.csv | Shape=(11971, 11)

=== CLEANING SUMMARY ===
Initial dataset rows: 12,575
Rows dropped (unrecoverable): 604
Final dataset rows: 11,971
Data retention: 95.2%

Values RECOVERED (using business logic):
  prices: 609
  quantities: 0
  totals: 0
  items: 609

Values IMPUTED (using defaults):
  discount_applied: 3,988

Missing values reduction:
  Before: 7,229 missing values
  After: 0 missing values
  Reduction: 7,229 values recovered/filled